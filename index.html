<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estacionamento JS</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/jquery.mask.min.js"></script>
    <script>
        var MercoSulMaskBehavior = function (val) {
        var myMask = 'SSS0A00';
        var mercosul = /([A-Za-z]{3}[0-9]{1}[A-Za-z]{1})/;
        var normal = /([A-Za-z]{3}[0-9]{2})/;
        var replaced = val.replace(/[^\w]/g, '');
        if (normal.exec(replaced)) {
            myMask = 'SSS-0000';
        } else if (mercosul.exec(replaced)) {
            myMask = 'SSS0A00';
        }
            return myMask;
        },

        mercoSulOptions = {
            onKeyPress: function(val, e, field, options) {
                field.mask(MercoSulMaskBehavior.apply({}, arguments), options);
            }
        };

        $(function() {
            $("body").delegate('input#placa','paste', function(e) {
                $(this).unmask();
            });
            $("body").delegate('input#placa','input', function(e) {
                $('input#placa').mask(MercoSulMaskBehavior, mercoSulOptions);
            });
        });
    </script>
</head>

<body onload="mostrarPatio()">
    <header>
        <h1>Estacionamento JS <small>por: Pedro Motta</small></h1>
    </header>
    <section>
        <form id="form">
            <label for="modelo">Modelo do veículo: <br><input placeholder="Digite o modelo do veículo..." type="text" name="modelo" id="modelo"></label><br>
            <label for="placa">Placa do veículo: <br><input placeholder="Digite a placa do veículo..." type="text" name="placa" id="placa"></label><br>
            <button type="submit">ADICIONAR</button>
        </form>
    </section>
    <div>
        <table>
            <thead>
                <tr>
                    <th>Modelo</th>
                    <th>Placa</th>
                    <th>Entrada</th>
                    <th>Finalizar</th>
                </tr>
            </thead>
            <tbody id="resultados"></tbody>
        </table>
    </div>
    <script src="js/main.js"></script>
</body>
</html>